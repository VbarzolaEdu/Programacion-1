<app-nav-cliente></app-nav-cliente>

<div class="app-header">Carrito</div>

<div class="container my-3" *ngIf="items.length > 0; else vacio">
  <ul class="list-group">
    <li *ngFor="let item of items" class="list-group-item d-flex justify-content-between align-items-center">
      <div>
        <div class="fw-bold">{{ item.nombre }}</div>
        <small>${{ item.precio }} x {{ item.cantidad }}</small>
      </div>

      <div>
        <button class="btn btn-sm btn-outline-primary me-2" (click)="editar(item.id)">✏️ Editar</button>
        <button class="btn btn-sm btn-outline-secondary me-2" (click)="restar(item)">−</button>
        <button class="btn btn-sm btn-outline-secondary me-2" (click)="sumar(item)">+</button>
        <button class="btn btn-sm btn-danger" (click)="eliminar(item.id)">🗑️</button>
      </div>
    </li>
  </ul>

  <div class="mt-3 text-end fw-bold">
    Total: ${{ total() }}
  </div>

  <button class="btn btn-success w-100 mt-3" (click)="confirmar()">Confirmar pedido</button>
</div>

<ng-template #vacio>
  <div class="text-center mt-5 text-muted">🛒 El carrito está vacío</div>
</ng-template>