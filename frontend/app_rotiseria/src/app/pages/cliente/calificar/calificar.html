<app-nav-cliente></app-nav-cliente>
<div class="app-header">Calificar pedido</div>

  <div class="container my-3">
    
    <div *ngIf="mensajeExito" 
         class="alert mb-3" 
         [ngClass]="{'alert-success': !mensajeExito.startsWith('⚠️'), 'alert-warning': mensajeExito.startsWith('⚠️')}">
        {{ mensajeExito }}
    </div>

    <div class="card p-3">
      <div class="d-flex justify-content-between align-items-center">
        <div>
          <div class="fw-bold">Pedido #{{ pedidoId }}</div>
          <small class="text-muted">Entregado recientemente</small>
        </div>
        <span class="badge text-bg-success">Entregado</span>
      </div>
      <hr>
      <div class="text-center mb-2">¿Cómo estuvo tu pedido?</div>
      
      <!-- estrellas-->
      <div class="text-center mb-3 rating-stars" (mouseleave)="resetHoverRating()">
        <i *ngFor="let star of [1, 2, 3, 4, 5]" 
           class="bi estrella"
           [ngClass]="{'bi-star-fill': star <= (hoverRating || rating), 'bi-star': star > (hoverRating || rating)}"
           (mouseenter)="setHoverRating(star)"
           (click)="setRating(star)">
        </i>
      </div>
      
      <div class="mb-3">
        <label for="comentario" class="form-label">Comentario (opcional)</label>
        <textarea id="comentario" 
                  [(ngModel)]="comentario" 
                  class="form-control" 
                  rows="3" 
                  placeholder="Contanos tu experiencia..."></textarea>
      </div>
      
      <button class="btn btn-success w-100" (click)="enviarCalificacion()">Enviar calificación</button>
      
    </div>
  </div>


